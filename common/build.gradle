plugins {
    id 'java'
}

repositories {
    maven {
        name = "Jared" // Patchouli and JEI
        url = "https://maven.blamejared.com/"
    }
}

dependencies {
    compileOnly "net.fabricmc:sponge-mixin:${mixin_version}"
    annotationProcessor("io.github.llamalad7:mixinextras-common:${mixinextras_version}")
    compileOnly "vazkii.patchouli:Patchouli-xplat:${patchouli_version}"

    testImplementation platform('org.junit:junit-bom:5.10.0')
    testImplementation 'org.junit.jupiter:junit-jupiter'

    compileOnly "mezz.jei:jei-${minecraft_version}-common-api:${jei_version}"
}

test {
    useJUnitPlatform()
}

// Include resources generated by data generators.
sourceSets.main.resources { srcDir 'src/generated/resources' }

processResources {
    // Exclude datagenerator .cache directory
    exclude '.cache'
}

// Example configuration to allow publishing using the maven-publish plugin
publishing {
    publications {
        register('mavenJava', MavenPublication) {
            from components.java
        }
    }
    repositories {
        maven {
            url "file://${project.projectDir}/repo"
        }
    }
}